package com_pcwk_ehr03;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

import com_pcwk_ehr_cmn.pcwLog;

public class RegExp04Main implements pcwLog{
	//1. ip를 추출한다.
	//2. ip추출해서 배열에 담는다.
	//3. ip추출해서 껀수를 구한다.
	public static void main(String[] args) {
		String source = "64.242.88.10 - - [07/Mar/2004:16:05:49 -0800] GET /twiki/bin/edit/Main/Double_bounce_sender?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:06:51 -0800] GET /twiki/bin/rdiff/TWiki/NewUserTemplate?rev1=1.3&rev2=1.2 HTTP/1.1 200 4523\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:10:02 -0800] GET /mailman/listinfo/hsdivision HTTP/1.1 200 6291\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:11:58 -0800] GET /twiki/bin/view/TWiki/WikiSyntax HTTP/1.1 200 7352\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:20:55 -0800] GET /twiki/bin/view/Main/DCCAndPostFix HTTP/1.1 200 5253\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:23:12 -0800] GET /twiki/bin/oops/TWiki/AppendixFileSystem?template=oopsmore&param1=1.12&param2=1.12 HTTP/1.1 200 11382\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:24:16 -0800] GET /twiki/bin/view/Main/PeterThoeny HTTP/1.1 200 4924\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:29:16 -0800] GET /twiki/bin/edit/Main/Header_checks?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12851\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:30:29 -0800] GET /twiki/bin/attach/Main/OfficeLocations HTTP/1.1 401 12851\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:31:48 -0800] GET /twiki/bin/view/TWiki/WebTopicEditTemplate HTTP/1.1 200 3732\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:32:50 -0800] GET /twiki/bin/view/Main/WebChanges HTTP/1.1 200 40520\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:33:53 -0800] GET /twiki/bin/edit/Main/Smtpd_etrn_restrictions?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12851\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:35:19 -0800] GET /mailman/listinfo/business HTTP/1.1 200 6379\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:36:22 -0800] GET /twiki/bin/rdiff/Main/WebIndex?rev1=1.2&rev2=1.1 HTTP/1.1 200 46373\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:37:27 -0800] GET /twiki/bin/view/TWiki/DontNotify HTTP/1.1 200 4140\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:39:24 -0800] GET /twiki/bin/view/Main/TokyoOffice HTTP/1.1 200 3853\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:43:54 -0800] GET /twiki/bin/view/Main/MikeMannix HTTP/1.1 200 3686\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:45:56 -0800] GET /twiki/bin/attach/Main/PostfixCommands HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:47:12 -0800] GET /robots.txt HTTP/1.1 200 68\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:47:46 -0800] GET /twiki/bin/rdiff/Know/ReadmeFirst?rev1=1.5&rev2=1.4 HTTP/1.1 200 5724\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:49:04 -0800] GET /twiki/bin/view/Main/TWikiGroups?rev=1.2 HTTP/1.1 200 5162\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:50:54 -0800] GET /twiki/bin/rdiff/Main/ConfigurationVariables HTTP/1.1 200 59679\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:52:35 -0800] GET /twiki/bin/edit/Main/Flush_service_name?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12851\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:53:46 -0800] GET /twiki/bin/rdiff/TWiki/TWikiRegistration HTTP/1.1 200 34395\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:54:55 -0800] GET /twiki/bin/rdiff/Main/NicholasLee HTTP/1.1 200 7235\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:56:39 -0800] GET /twiki/bin/view/Sandbox/WebHome?rev=1.6 HTTP/1.1 200 8545\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:16:58:54 -0800] GET /mailman/listinfo/administration HTTP/1.1 200 6459\r\n" + 
				"lordgun.org - - [07/Mar/2004:17:01:53 -0800] GET /razor.html HTTP/1.1 200 2869\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:09:01 -0800] GET /twiki/bin/search/Main/SearchResult?scope=text&regex=on&search=Joris%20*Benschop[^A-Za-z] HTTP/1.1 200 4284\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:10:20 -0800] GET /twiki/bin/oops/TWiki/TextFormattingRules?template=oopsmore&param1=1.37&param2=1.37 HTTP/1.1 200 11400\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:13:50 -0800] GET /twiki/bin/edit/TWiki/DefaultPlugin?t=1078688936 HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:16:00 -0800] GET /twiki/bin/search/Main/?scope=topic&regex=on&search=^g HTTP/1.1 200 3675\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:17:27 -0800] GET /twiki/bin/search/TWiki/?scope=topic&regex=on&search=^d HTTP/1.1 200 5773\r\n" + 
				"lj1036.inktomisearch.com - - [07/Mar/2004:17:18:36 -0800] GET /robots.txt HTTP/1.0 200 68\r\n" + 
				"lj1090.inktomisearch.com - - [07/Mar/2004:17:18:41 -0800] GET /twiki/bin/view/Main/LondonOffice HTTP/1.0 200 3860\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:21:44 -0800] GET /twiki/bin/attach/TWiki/TablePlugin HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:22:49 -0800] GET /twiki/bin/view/TWiki/ManagingWebs?rev=1.22 HTTP/1.1 200 9310\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:23:54 -0800] GET /twiki/bin/statistics/Main HTTP/1.1 200 808\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:26:30 -0800] GET /twiki/bin/view/TWiki/WikiCulture HTTP/1.1 200 5935\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:27:37 -0800] GET /twiki/bin/edit/Main/WebSearch?t=1078669682 HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:28:45 -0800] GET /twiki/bin/oops/TWiki/ResetPassword?template=oopsmore&param1=1.4&param2=1.4 HTTP/1.1 200 11281\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:29:59 -0800] GET /twiki/bin/view/TWiki/ManagingWebs?skin=print HTTP/1.1 200 8806\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:31:39 -0800] GET /twiki/bin/edit/Main/UvscanAndPostFix?topicparent=Main.WebHome HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:35:35 -0800] GET /twiki/bin/view/TWiki/KlausWriessnegger HTTP/1.1 200 3848\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:39:39 -0800] GET /twiki/bin/view/Main/SpamAssassin HTTP/1.1 200 4081\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:42:15 -0800] GET /twiki/bin/oops/TWiki/RichardDonkin?template=oopsmore&param1=1.2&param2=1.2 HTTP/1.1 200 11281\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:46:17 -0800] GET /twiki/bin/rdiff/TWiki/AlWilliams?rev1=1.3&rev2=1.2 HTTP/1.1 200 4485\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:47:43 -0800] GET /twiki/bin/rdiff/TWiki/AlWilliams?rev1=1.2&rev2=1.1 HTTP/1.1 200 5234\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:50:44 -0800] GET /twiki/bin/view/TWiki/SvenDowideit HTTP/1.1 200 3616\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:53:45 -0800] GET /twiki/bin/search/Main/SearchResult?scope=text&regex=on&search=Office%20*Locations[^A-Za-z] HTTP/1.1 200 7771\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:56:54 -0800] GET /twiki/bin/view/TWiki/TextFormattingRules?rev=r1.31 HTTP/1.1 200 23338\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:17:58:00 -0800] GET /twiki/bin/edit/Main/KevinWGagel?t=1078670331 HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:00:09 -0800] GET /twiki/bin/edit/Main/Virtual_mailbox_lock?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:02:10 -0800] GET /twiki/bin/view/Main/WebPreferences HTTP/1.1 200 8820\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:04:05 -0800] GET /twiki/bin/view/TWiki/WikiWord?rev=1.3 HTTP/1.1 200 6816\r\n" + 
				"lj1125.inktomisearch.com - - [07/Mar/2004:18:06:14 -0800] GET /twiki/bin/oops/Sandbox/WebChanges HTTP/1.0 200 209\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:09:00 -0800] GET /twiki/bin/rdiff/Main/TWikiGuest HTTP/1.1 200 11314\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:10:09 -0800] GET /twiki/bin/edit/TWiki/TWikiVariables?t=1078684115 HTTP/1.1 401 12846\r\n" + 
				"d{1,3}.d{1,3},d{1,3}.d{1,3}\r\n" + 
				"d207-6-9-183.bchsia.telus.net - - [07/Mar/2004:18:10:18 -0800] GET /pipermail/cncce/2004-January/000001.html HTTP/1.1 200 3095\r\n" + 
				"d207-6-9-183.bchsia.telus.net - - [07/Mar/2004:18:10:20 -0800] GET /pipermail/cncce/2004-January/000002.html HTTP/1.1 200 3810\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:17:26 -0800] GET /twiki/bin/rdiff/TWiki/WikiWord?rev1=1.4&rev2=1.3 HTTP/1.1 200 6948\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:19:01 -0800] GET /twiki/bin/edit/Main/TWikiPreferences?topicparent=Main.WebHome HTTP/1.1 401 12846\r\n" + 
				"d207-6-9-183.bchsia.telus.net - - [07/Mar/2004:18:19:16 -0800] GET /pipermail/cncce/2004-January.txt HTTP/1.1 200 3376\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:22:52 -0800] GET /twiki/bin/search/Main/SearchResult?scope=text&regex=on&search=Web%20*Statistics[^A-Za-z] HTTP/1.1 200 3584\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:26:32 -0800] GET /twiki/bin/rdiff/TWiki/PeterFokkinga?rev1=1.4&rev2=1.3 HTTP/1.1 200 4548\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:32:39 -0800] GET /mailman/listinfo/dentalstudies HTTP/1.1 200 6345\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:34:42 -0800] GET /twiki/bin/view/Main/TWikiGuest HTTP/1.1 200 4449\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:42:29 -0800] GET /twiki/bin/attach/Main/TWikiGroups HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:46:00 -0800] GET /twiki/bin/rdiff/TWiki/TextFormattingRules?rev1=1.36&rev2=1.35 HTTP/1.1 200 25416\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:47:06 -0800] GET /twiki/bin/rdiff/Main/TWikiGroups?rev1=1.3&rev2=1.2 HTTP/1.1 200 4308\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:48:15 -0800] GET /twiki/bin/search/TWiki/?scope=topic&regex=on&search=.* HTTP/1.1 200 3544\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:52:30 -0800] GET /twiki/bin/edit/Main/Trigger_timeout?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:53:55 -0800] GET /twiki/bin/oops/TWiki/TWikiSite?template=oopsmore&param1=1.21&param2=1.21 HTTP/1.1 200 11284\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:57:07 -0800] GET /twiki/bin/view/TWiki/TextFormattingRules?rev=r1.35 HTTP/1.1 200 27248\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:58:52 -0800] GET /twiki/bin/edit/Main/Mydestination?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:18:59:52 -0800] GET /mailman/listinfo/fcd HTTP/1.1 200 5967\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:01:48 -0800] GET /twiki/bin/rdiff/Main/WebHome?rev1=1.28&rev2=1.27 HTTP/1.1 200 3596\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:03:58 -0800] GET /twiki/bin/edit/Main/Message_size_limit?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:08:55 -0800] GET /twiki/bin/rdiff/TWiki/TWikiHistory HTTP/1.1 200 138789\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:10:13 -0800] GET /twiki/bin/search/TWiki/?scope=topic&regex=on&search=^y HTTP/1.1 200 3628\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:15:38 -0800] GET /twiki/bin/edit/Main/Smtpd_history_flush_threshold?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12851\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:16:44 -0800] GET /twiki/bin/view/TWiki/TWikiHistory?rev=1.59 HTTP/1.1 200 52854\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:18:05 -0800] GET /twiki/bin/edit/Main/Sender_canonical_maps?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12851\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:19:19 -0800] GET /mailman/listinfo/mlc HTTP/1.1 200 6142\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:21:01 -0800] GET /twiki/bin/rdiff/Main/WebChanges HTTP/1.1 200 114241\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:22:11 -0800] GET /twiki/bin/edit/Sandbox/TestTopic5?topicparent=Sandbox.WebHome HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:24:57 -0800] GET /twiki/bin/view/TWiki/TextFormattingRules?rev=r1.22 HTTP/1.1 200 21162\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:26:22 -0800] GET /twiki/bin/search/TWiki/?scope=topic&regex=on&search=^j HTTP/1.1 200 4524\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:29:46 -0800] GET /twiki/bin/oops/TWiki/TWikiVariables?template=oopsmore&param1=1.62&param2=1.62 HTTP/1.1 200 11444\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:31:25 -0800] GET /twiki/bin/edit/Main/Lmtp_connect_timeout?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:32:45 -0800] GET /twiki/bin/search/TWiki/?scope=topic&regex=on&search=^q HTTP/1.1 200 2937\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:36:14 -0800] GET /twiki/bin/view/TWiki/ManagingWebs?rev=1.21 HTTP/1.1 200 9310\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:39:40 -0800] GET /twiki/bin/edit/Main/Qmqpd_authorized_clients?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:41:33 -0800] GET /twiki/bin/edit/Main/Header_address_token_limit?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"64.242.88.10 - - [07/Mar/2004:19:42:45 -0800] GET /twiki/bin/edit/Main/Syslog_name?topicparent=Main.ConfigurationVariables HTTP/1.1 401 12846\r\n" + 
				"80-219-148-207.dclient.hispeed.c...";
		
		String pattern = "(0[0-9]{2,3}).([0-9]{2,3}).([0-9]{2,3}).([0-9]{2,3})";
		
		Pattern p =Pattern.compile(pattern);
		Matcher m = p.matcher(source);
		
		int i = 0;
		while(m.find()) {
			LOG.debug(++i+":"+m.group(1) //패턴  group(1)에 첫번째
			+", "+m.group(2)			 //패턴  group(2)에 두번째
			+", "+m.group(3)			 //패턴  group(3)에 두번째
			+"===>"+m.group()			 //패턴  group()전체
					);
		}
		
		
		
	}

}
